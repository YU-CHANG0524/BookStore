(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4b608e2"],{"4a0e":function(t,e,i){"use strict";var a=i("68e4"),s=i.n(a);s.a},"658f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"product"},[t._m(0),i("nav",{staticClass:"c-breadcrumb"},[i("ol",{staticClass:"c-breadcrumb_wrap g-container"},[i("li",{staticClass:"home"},[i("router-link",{staticClass:"material-icons",attrs:{to:"/"}},[t._v("home")])],1),i("li",{staticClass:"c-breadcrumb_item"},[i("router-link",{attrs:{to:"/productDetail"}},[t._v("產品列表")])],1)])]),i("section",{staticClass:"product_content"},[i("div",{staticClass:"sidebar"},[i("div",{staticClass:"sidebar_box"},[i("h5",{staticClass:"title"},[t._v("書籍種類")]),t._l(t.bookFrom,(function(e){return i("div",{key:e.id,staticClass:"checkbox-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectCategory,expression:"selectCategory"}],attrs:{type:"radio",id:e.id,name:e.title},domProps:{value:e.title,checked:t._q(t.selectCategory,e.title)},on:{change:function(i){t.selectCategory=e.title}}}),i("label",{attrs:{for:e.id}},[t._v(t._s(e.title))])])}))],2),i("div",{staticClass:"sidebar_box"},[i("h5",{staticClass:"title"},[t._v("內容分類")]),t._l(t.contentList,(function(e){return i("div",{key:e.id,staticClass:"checkbox-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectContent,expression:"selectContent"}],attrs:{type:"checkbox",id:e.id,name:e.title},domProps:{value:e.title,checked:Array.isArray(t.selectContent)?t._i(t.selectContent,e.title)>-1:t.selectContent},on:{change:function(i){var a=t.selectContent,s=i.target,n=!!s.checked;if(Array.isArray(a)){var c=e.title,r=t._i(a,c);s.checked?r<0&&(t.selectContent=a.concat([c])):r>-1&&(t.selectContent=a.slice(0,r).concat(a.slice(r+1)))}else t.selectContent=n}}}),i("label",{attrs:{for:e.id}},[t._v(t._s(e.title))])])}))],2)]),i("ul",{staticClass:"product_list"},t._l(t.filterData[t.pagination],(function(e){return i("li",{key:e.id},[i("div",{staticClass:"item"},[i("a",{staticClass:"item_body",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.productDetails(e.id)}}},[i("div",{staticClass:"item_img"},[i("img",{attrs:{src:e.imageUrl[0]}})]),i("div",{staticClass:"item_title"},[t._v(t._s(e.title))]),i("div",{staticClass:"item_text"},[t._v(t._s(e.content))]),i("div",{staticClass:"price"},[e.price!==e.origin_price?i("div",{staticClass:"discount"},[t._v("優惠"),i("em",[t._v(t._s(Math.floor(e.price/e.origin_price*100)))]),t._v("折,"),i("em",[t._v(t._s(e.price))]),t._v("元")]):i("div",{staticClass:"original"},[t._v("售價"),i("em",[t._v(t._s(e.price))]),t._v("元")])])]),i("div",{staticClass:"item_footer"},[i("a",{staticClass:"cartAdd",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.addshopCart(e.id)}}},[t._v("加入購物車")])])])])})),0),i("pagination",{staticClass:"w-100 d-flex justify-content-center mt-5",attrs:{total:t.filterData.length,current:t.pagination+1},on:{clickEvent:t.changePage}})],1)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"c-banner"},[i("div",{staticClass:"c-banner_bg product_banner-bg"}),i("h3",{staticClass:"c-banner_text"},[t._v("所有產品")])])}],n=(i("4160"),i("c975"),i("fb6a"),i("159b"),i("5530")),c=i("2f62"),r=i("d529"),o={name:"customerProduct",data:function(){return{bookFrom:[{title:"全部",id:"all"},{title:"中文書",id:"chinese"},{title:"英文書",id:"english"},{title:"電子書",id:"ebook"},{title:"雜誌",id:"magazine"}],contentList:[{title:"全部",id:"content0"},{title:"醫療保健",id:"content1"},{title:"自然科普",id:"content2"},{title:"財經企管",id:"content3"},{title:"旅遊相關",id:"content4"},{title:"文學相關",id:"content5"},{title:"電腦資訊",id:"content6"}],selectCategory:"全部",selectContent:["全部"],allProducts:[],filterData:[],pagination:0}},components:{pagination:r["a"]},methods:Object(n["a"])({productDetails:function(t){this.$router.push("/productList/".concat(t))},splitProducts:function(t){var e=0,i=[];while(e<t.length)i.push(t.slice(e,e+=9));return i},filterProduct:function(t){var e=this,i=[];return t?"全部"===t?e.allProducts.forEach((function(t){i.push(t)})):e.allProducts.forEach((function(e){e.category===t&&i.push(e)})):e.allProducts.forEach((function(t){-1!==e.selectCategory.indexOf(t.category)&&i.push(t)})),i},filiterContentClass:function(t){var e=this,i=[];return-1!==e.selectContent.indexOf("全部")?t.forEach((function(t){i.push(t)})):t.forEach((function(t){-1!==e.selectContent.indexOf(t.options.subcategories)&&i.push(t)})),i},getFilterKey:function(){var t=this;t.selectCategory=sessionStorage.getItem("filterProdut"),t.selectContent=[sessionStorage.getItem("filterContent")],sessionStorage.clear()},addshopCart:function(t){var e={product:t,quantity:1};this.addCart(e)},changePage:function(t){var e=this;e.pagination=t-1}},Object(c["b"])("customer",["getProducts","addCart"])),computed:Object(n["a"])({},Object(c["c"])("customer",["productList"])),watch:{productList:{handler:function(t){this.allProducts=t,this.filterData=this.splitProducts(this.filiterContentClass(this.filterProduct(this.selectCategory)))}},selectCategory:{handler:function(){var t=this;t.pagination=0,t.selectContent=["全部"],"全部"===this.selectCategory?this.filterData=this.splitProducts(this.filterProduct("全部")):this.filterData=this.splitProducts(this.filterProduct())},deep:!0},selectContent:{handler:function(){var t=this;t.pagination=0,"全部"===this.selectCategory?this.filterData=this.splitProducts(this.filiterContentClass(this.filterProduct("全部"))):this.filterData=this.splitProducts(this.filiterContentClass(this.filterProduct()))}}},created:function(){var t=this;this.getProducts(),setTimeout((function(){t.getFilterKey()}))}},l=o,u=(i("4a0e"),i("2877")),d=Object(u["a"])(l,a,s,!1,null,null,null);e["default"]=d.exports},"68e4":function(t,e,i){},a730:function(t,e,i){"use strict";var a=i("d6ff"),s=i.n(a);s.a},c975:function(t,e,i){"use strict";var a=i("23e7"),s=i("4d64").indexOf,n=i("a640"),c=i("ae40"),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),u=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(t){return o?r.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},d529:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 1!==t.total?i("nav",{staticClass:"center",attrs:{"aria-label":"..."}},[i("ul",{staticClass:"pagination"},[i("li",{staticClass:"page-item",class:{disabled:1===t.current}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.pageSwitch(t.current-1)}}},[t._v("Previous")])]),t._l(t.total,(function(e){return i("li",{key:e,staticClass:"page-item",class:{active:e===t.current}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.pageSwitch(e)}}},[t._v(t._s(e))])])})),i("li",{staticClass:"page-item",class:{disabled:t.current===t.total}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.pageSwitch(t.current+1)}}},[t._v("Next")])])],2)]):t._e()},s=[],n=(i("a9e3"),{name:"Pagination",data:function(){return{}},props:{total:Number,current:Number},methods:{pageSwitch:function(t){this.$emit("clickEvent",Number(t))}}}),c=n,r=(i("a730"),i("2877")),o=Object(r["a"])(c,a,s,!1,null,"923134cc",null);e["a"]=o.exports},d6ff:function(t,e,i){},fb6a:function(t,e,i){"use strict";var a=i("23e7"),s=i("861d"),n=i("e8b5"),c=i("23cb"),r=i("50c4"),o=i("fc6a"),l=i("8418"),u=i("b622"),d=i("1dde"),f=i("ae40"),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),C=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,e){var i,a,u,d=o(this),f=r(d.length),h=c(t,f),p=c(void 0===e?f:e,f);if(n(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?s(i)&&(i=i[v],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return C.call(d,h,p);for(a=new(void 0===i?Array:i)(g(p-h,0)),u=0;h<p;h++,u++)h in d&&l(a,u,d[h]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-d4b608e2.875d571c.js.map