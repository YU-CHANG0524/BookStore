(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2792fd8"],{"0d5f":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("main",{staticClass:"adminOrder"},[s("div",{staticClass:"container mt-5 d-flex flex-column align-items-end"},[s("h1",{staticClass:"h1 mr-auto"},[t._v("訂單")]),s("table",{staticClass:"table table-striped"},[t._m(0),s("tbody",t._l(t.ordersList,(function(a,e){return s("tr",[s("td",{staticClass:"lh-25 p-3"},[t._v(t._s(e+1))]),s("td",{staticClass:"lh-25 p-3"},[t._v(t._s(a.id))]),s("td",{staticClass:"lh-25 p-3 text-danger"},[t._v(t._s(t._f("moneySign")(Math.floor(a.amount))))]),s("td",{staticClass:"lh-25 p-3"},[t._v(t._s(a.payment))]),s("td",{staticClass:"lh-25 d-flex justify-content-center align-items-center"},[a.paid?s("p",{staticClass:"text-success"},[t._v("已付款")]):s("p",{staticClass:"text-danger"},[t._v("未付款")])]),s("td",{staticClass:"lh-25 p-3"},[s("a",{staticClass:"py-2 btn btn-info mr-2",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openModal("change",a)}}},[t._v("切換")]),s("a",{staticClass:"py-2 btn btn-warning mr-2",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openModal("detail",a.id)}}},[t.iconLoadingStatus?s("span",{staticClass:"icon-block"},[s("i",{staticClass:"fas fa-spinner fa-pulse"})]):s("span",[t._v("詳情")])])])])})),0)]),s("pagination",{attrs:{total:t.paginationData.total_pages,current:t.paginationData.current_page},on:{clickEvent:t.getOrderList}})],1),s("div",{staticClass:"modal fade",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[t._m(1),t.orderDetailsTemplate.user?s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row px-5"},[s("table",{staticClass:"table table-striped"},[t._m(2),s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}},[t._v("訂單編號")]),s("td",[t._v(t._s(t.orderDetailsTemplate.id))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("訂單建立日期")]),s("td",[t._v(t._s(t.orderDetailsTemplate.created.datetime))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("姓名")]),s("td",[t._v(t._s(t.orderDetailsTemplate.user.name))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("訂購者E-MAIL")]),s("td",[t._v(t._s(t.orderDetailsTemplate.user.email))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("電話")]),s("td",[t._v(t._s(t.orderDetailsTemplate.user.tel))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("寄送地址")]),s("td",[t._v(t._s(t.orderDetailsTemplate.user.address))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("付款方式")]),s("td",[t._v(t._s(t.orderDetailsTemplate.payment))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("備註")]),s("td",[t._v(t._s(t.orderDetailsTemplate.message))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("使用優惠券")]),s("td",[t._v(t._s(t.orderDetailsTemplate.coupon.title))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("金額")]),s("td",[t._v(t._s(t._f("moneySign")(Math.floor(t.orderDetailsTemplate.amount))))])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("付款狀態")]),s("td",[!1===t.orderDetailsTemplate.paid?s("p",{staticClass:"text-danger"},[t._v("未付款")]):s("p",{staticClass:"text-success"},[t._v("已付款")])])]),s("tr",[s("th",{attrs:{scope:"row"}},[t._v("購買產品")]),s("td",[s("ul",[t._m(3),t._l(t.orderDetailsTemplate.products,(function(a){return s("li",{staticClass:"d-flex row p-1"},[s("h3",{staticClass:"col-6"},[t._v(t._s(a.product.title))]),s("p",{staticClass:"col-3 text-primary"},[t._v(t._s(a.quantity))])])}))],2)])])])])])]):t._e()])])]),s("div",{staticClass:"modal fade",attrs:{id:"changeModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[t._m(4),s("div",{staticClass:"modal-body"},[t._v("是否將此筆訂單切換為"),!1===t.status.paid?s("strong",{staticClass:"text-success"},[t._v("已付款")]):s("strong",{staticClass:"text-danger"},[t._v("未付款")])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.changePaid(t.status)}}},[t._v("切換確認")])])])])])])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{staticClass:"p-3",attrs:{width:"30px"}},[t._v("#")]),s("th",{staticClass:"p-3 orderId"},[t._v("訂單編號")]),s("th",{staticClass:"p-3",attrs:{width:"100px"}},[t._v("價格")]),s("th",{staticClass:"p-3",attrs:{width:"120px"}},[t._v("付款方式")]),s("th",{staticClass:"p-3",attrs:{width:"100px"}},[t._v("付款狀態")]),s("th",{staticClass:"p-3",attrs:{width:"200px"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[t._v("訂單詳情")])]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col",width:"20%"}},[t._v("名稱")]),s("th",{attrs:{scope:"col",width:"80%"}},[t._v("值")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",{staticClass:"d-flex row mb-2"},[s("h3",{staticClass:"col-6"},[t._v("名稱")]),s("p",{staticClass:"col-3"},[t._v("數量")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header bg-danger text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[t._v("切換付款狀態")])]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=(s("99af"),s("5530")),l=s("2f62"),n=s("9537"),c=s.n(n),o=s("d529"),d={data:function(){return{orderDetailsTemplate:{},status:{}}},components:{pagination:o["a"]},methods:Object(i["a"])(Object(i["a"])({openModal:function(t,a){var s=this;switch(t){case"change":s.status=a,c()("#changeModal").modal("show");break;case"detail":this.ICON_STATUS(!0),this.getOrderDetails(a);break;default:break}},getOrderList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.getOrders(t)},getOrderDetails:function(t){var a=this,s=this,e="".concat("https://course-ec-api.hexschool.io","/api/").concat("64fa7d4d-db25-4ca9-a00b-21a78c607c88","/admin/ec/orders/").concat(t);this.$http.get(e).then((function(t){s.orderDetailsTemplate=t.data.data,a.ICON_STATUS(!1),c()("#orderModal").modal("show")})).catch((function(){}))},changePaid:function(t){var a={id:t.id,status:t.paid};this.updateOrders(a)}},Object(l["d"])(["ICON_STATUS"])),Object(l["b"])("admin",["getOrders","updateOrders"])),computed:Object(i["a"])(Object(i["a"])({},Object(l["c"])(["iconLoadingStatus"])),Object(l["c"])("admin",["ordersList","paginationData"])),created:function(){this.getOrders()}},p=d,u=(s("67c9"),s("2877")),_=Object(u["a"])(p,e,r,!1,null,"248a06d9",null);a["default"]=_.exports},"67c9":function(t,a,s){"use strict";var e=s("9f98"),r=s.n(e);r.a},"9f98":function(t,a,s){},a730:function(t,a,s){"use strict";var e=s("d6ff"),r=s.n(e);r.a},d529:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return 1!==t.total?s("nav",{staticClass:"center",attrs:{"aria-label":"..."}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item",class:{disabled:1===t.current}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.pageSwitch(t.current-1)}}},[t._v("Previous")])]),t._l(t.total,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:a===t.current}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.pageSwitch(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:t.current===t.total}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.pageSwitch(t.current+1)}}},[t._v("Next")])])],2)]):t._e()},r=[],i=(s("a9e3"),{name:"Pagination",data:function(){return{}},props:{total:Number,current:Number},methods:{pageSwitch:function(t){this.$emit("clickEvent",Number(t))}}}),l=i,n=(s("a730"),s("2877")),c=Object(n["a"])(l,e,r,!1,null,"923134cc",null);a["a"]=c.exports},d6ff:function(t,a,s){}}]);
//# sourceMappingURL=chunk-f2792fd8.2348d82c.js.map